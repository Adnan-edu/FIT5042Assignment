<!DOCTYPE html> 
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"> 
    <h:head> 
        <title>Heritage</title>
        <h:outputStylesheet name="css/jsfcrud.css"/> 
        <h:outputStylesheet library="css" name="bootstrap.min.css"></h:outputStylesheet>
    </h:head> 
    <h:body> 
        <div class="container">
            <nav class="navbar navbar-inverse">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#">Heritage</a>
                    </div>
                    <div id="navbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav">
                            <li class="active"><h:link value="Home" outcome="index" /></li>
                            <li><h:link value="Login-Admin" outcome="admin/index.xhtml" /></li>
                            <li><h:link value="Login-Employee" outcome="employee/index.xhtml" /></li>

                        </ul>
                    </div><!--/.nav-collapse -->
                </div>
            </nav>
            
            <h:form id="SearchForm">
                <table class="table table-bordered ">  
                    <tr>
                        <td>
                            <td width ="100" valign="top">Heritage Group: </td>
                            <td valign="bottom">
                                <div class="form-group">
                                    <h:selectOneMenu value="#{searchHeritage.searchHeritageByGrpId}" style="margin: 15px">
                                        <f:selectItems value="#{heritageGroupMB.heritageGroups}" var="groups" itemLabel="#{groups.groupCategory}-#{groups.groupSubCategory}"
                                                       itemValue="#{groups.groupId}" />
                                    </h:selectOneMenu>             
                                </div>                             
                            </td>                             
                        </td>
                        <td>
                            <td width ="100" valign="top">Architectural  Style</td>
                            <td valign="bottom">
                                <div class="form-group">
                                    <h:selectOneMenu value="#{searchHeritage.searchHeriByArchId}" style="margin: 15px">
                                        <f:selectItems value="#{heritageGroupMB.architecturalstylesList}" var="archStyle" itemLabel="#{archStyle.periodName}-#{archStyle.periodFromTo}"
                                                       itemValue="#{archStyle.archStyleId}" />
                                    </h:selectOneMenu>             
                                </div>                             
                            </td>                              
                        </td>
                    </tr>                                                                               
                </table>

                <div class="form-group">
                    <h:commandButton style="margin: 15px" id="searchByBoth" value="Search by Both" action="#{searchHeritage.searchByGrpAndArch(searchHeritage.searchHeritageByGrpId,searchHeritage.searchHeriByArchId)}" class="btn btn-info col-sm-2" >
                        
                    </h:commandButton>                   
                    <h:commandButton style="margin: 15px" id="refresh" value="Clear Search" action="#{heritageGroupMB.clearSearch()}" class="btn btn-info col-sm-2" />
                </div>                 
                

            </h:form>           
                <h:form id="MyFormSearch">
                        <table class="table table-bordered table-striped table-hover table-responsive">
                            <!-- For each property in properties ArrayList... --> 
                            <tr>
                                    <td> 
                                        <h:outputLabel id="Id" value="Id"  />
                                    </td>                        
                                    <td> 
                                        <h:outputLabel id="Authority" value="Authority"  />
                                    </td>
                                    <td> 
                                        <h:outputLabel id="constructionFrom" value="Date Of Construction From"  />
                                    </td>

                                    <td> 
                                        <h:outputLabel id="constructionTo" value="Date Of Construction To"/>
                                    </td>
                                    <td> 
                                        <h:outputLabel id="archStyle" value="Architectural Style"/>
                                    </td>
                                    <td> 
                                        <h:outputLabel id="heritageGrp" value="Heritage Group"/>
                                    </td>                         
                             </tr>

                            <ui:repeat id="SearchedHeritage" value="#{heritageGroupMB.searchedHeritage}"  var="heritage" varStatus="status"> 

                                <tr> 
                                    <td>
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).heritageId}" id="heritageId"/> 

                                    </td>                            
                                    <td>
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).authority}"/> 

                                    </td>

                                    <td> 
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).dateOfConstructionFrom}"  />
                                    </td>
                                    <td>
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).dateOfConstructionTo}"></h:outputText>
                                    </td>
                                    <td>
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).architecturalstyle}"></h:outputText>
                                    </td>
                                    <td>
                                        <h:outputText value="#{heritageGroupMB.searchedHeritage.get(status.index).heritageGroup}"></h:outputText>
                                    </td>                            
                                </tr> 
                            </ui:repeat> 
                        </table>                       
                    </h:form>
        </div>    

    </h:body>



</html>

